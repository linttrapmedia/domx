{
  "$schema": "domx.json",
  "initialState": "red",
  "listeners": [
    ["#stoplight", "click", "changeState"],
    ["#stoplight__red", "click", "changeState"],
    ["#stoplight__yellow", "click", "changeState"],
    ["#stoplight__green", "click", "changeState"]
  ],
  "states": {
    "red": {
      "entry": [
        ["attr", "#stoplight__red", "opacity", "1"],
        ["dispatch", "changeState", 2000]
      ],
      "changeState": [
        ["attr", "#stoplight__red", "opacity", "0.25"],
        ["attr", "#stoplight__yellow", "opacity", "0.25"],
        ["attr", "#stoplight__green", "opacity", "0.25"],
        ["state", "yellow"]
      ]
    },
    "yellow": {
      "entry": [
        ["attr", "#stoplight__yellow", "opacity", "1"],
        ["dispatch", "changeState", 2000]
      ],
      "changeState": [
        ["attr", "#stoplight__red", "opacity", "0.25"],
        ["attr", "#stoplight__yellow", "opacity", "0.25"],
        ["attr", "#stoplight__green", "opacity", "0.25"],
        ["state", "green"]
      ]
    },
    "green": {
      "entry": [
        ["attr", "#stoplight__green", "opacity", "1"],
        ["dispatch", "changeState", 2000]
      ],
      "changeState": [
        ["attr", "#stoplight__red", "opacity", "0.25"],
        ["attr", "#stoplight__yellow", "opacity", "0.25"],
        ["attr", "#stoplight__green", "opacity", "0.25"],
        ["state", "red"]
      ]
    }
  }
}
