<html lang="en">
  <head>
    <title>domx</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta
      name="description"
      content="domx is a web component library for building web applications."
    />
    <meta name="favicon" content="/static/images/favicon.svg" />
    <link rel="stylesheet" href="static/scripts/prism.css" type="text/css" />
    <link rel="stylesheet" href="/static/styles/styles.css" />
    <script type="text/javascript" src="static/scripts/prism.min.js"></script>
    <script
      type="text/javascript"
      src="static/scripts/prism-markup.min.js"
    ></script>
    <script
      type="text/javascript"
      src="static/scripts/prism-typescript.min.js"
    ></script>
    <script src="/static/scripts/dx-state.js"></script>
    <script src="/static/scripts/dx-box.js"></script>
    <script src="/static/scripts/dx-tabs.js"></script>
    <script src="/static/scripts/dx-text.js"></script>
    <script src="/static/scripts/dx-style.js"></script>
    <script src="/static/scripts/dx-grid.js"></script>
    <script src="/static/scripts/dx-table.js"></script>
  </head>
  <body>
    <dx-box
      align-items="flex-start"
      background="linear-gradient(45deg,rgba(255, 255, 255, 0.1) 50%, gold 50%)"
      display="flex"
      height="75px"
      justify-content="flex-end"
      padding="5px"
      position="absolute"
      right="0px"
      text-align="right"
      top="0px"
      width="75px"
    >
      <a href="https://github.com/linttrapmedia/domx" target="_blank"
        ><img src="static/images/github.svg" width="50%"
      /></a>
    </dx-box>
    <dx-col align-items="normal" align-items--960="center">
      <dx-col gap="50px" padding="50px 20px" max-width="960px">
        <!-- header -->
        <dx-col align-items="center" gap="20px">
          <dx-row align-items="flex-start">
            <dx-text
              font-family="Splash"
              color="gold"
              font-size="50px"
              font-size--960="75px"
              line-height="0.85"
              >domx</dx-text
            ><dx-text
              color="gold"
              font-family="monospace"
              font-size="10px"
              padding-left="10px"
              >beta</dx-text
            >
          </dx-row>
          <dx-text
            color="white"
            text-align="center"
            font-size="32px"
            font-size--960="52px"
          >
            A novel UI library for managing the DOM without javascript
          </dx-text>
        </dx-col>
        <!-- features -->
        <dx-row
          background-color="rgba(255,255,255,0.1)"
          border-radius="5px"
          flex-wrap="wrap"
          gap="10px"
          padding="20px"
          justify-content="center"
        >
          <dx-style
            background-color:hover="white"
            background-color="transparent"
            border-radius="20px"
            border="none"
            border--960="1px solid rgba(255, 255, 255, 0.1)"
            box-sizing="border-box"
            color:hover="black"
            color="white"
            cursor="pointer"
            font-size="13px"
            font-weight="bold"
            gap="10px"
            line-height="1"
            padding="5px 10px"
          >
            <dx-row><span>ðŸš¯</span> No Javascript</dx-row>
            <dx-row><span>ðŸ’«</span> Reactive DOM</dx-row>
            <dx-row><span>ðŸ’…</span> Responsive Styles</dx-row>
            <dx-row><span>ðŸ“¼</span> State Management</dx-row>
            <dx-row><span>ðŸ’©</span> No Virtual DOM</dx-row>
            <dx-row><span>ðŸª¶</span> Flyweight Size</dx-row>
            <dx-row><span>ðŸ“¬</span> HTMX-esque</dx-row>
            <dx-row><span>ðŸ’¨</span> Tailwind-esque</dx-row>
            <dx-row><span>ðŸ¤–</span> XState-esque</dx-row>
          </dx-style>
        </dx-row>
        <!-- why -->
        <dx-grid
          align-items="center"
          grid-template-columns="1fr"
          grid-template-columns--960="1fr 1fr"
          gap="30px"
          justify-content="center"
          text-align="center"
        >
          <dx-col
            border="2px solid rgba(255,255,255,0.3)"
            border-radius="20px"
            padding="20px"
            box-shadow="rgba(255,255,255,0.3) 20px 20px 0px"
            align-items="center"
            justify-content="center"
            height="max-content"
          >
            <dx-text font-size="32px">Why?</dx-text>
            <dx-text opacity="0.35" padding="20px 0"
              >I wanted a library of isolated web components to manage DOM
              states, styles and behaviors from the backend without javascript
              and having HTMX, Tailwind and XState-like features.</dx-text
            >
          </dx-col>
          <dx-col
            justify-self="center"
            padding="20px"
            gap="20px"
            width="max-content"
          >
            <dx-text font-size="32px">Download</dx-text>
            <dx-text opacity="0.5">(It's safe, link is using unpkg)</dx-text>
            <dx-style
              padding="30px"
              background-color:hover="gold"
              background-color="transparent"
              border-radius="5px"
              border-color="gold"
              border="2px solid gold"
              color:hover="black"
              color="gold"
              gap="10px"
              text-decoration="none"
              transition="all 0.2s ease-in-out"
            >
              <a href="https://unpkg.com/@linttrap/domx@latest/dist/domx.zip"
                >ðŸ“¦ &nbsp; download zip</a
              >
            </dx-style>
            <dx-text
              font-size="14px"
              text-align="center"
              gap="10px"
              opacity="0.5"
            >
              Or
              <a href="https://github.com/linttrapmedia/domx" target="_blank"
                >install the repo</a
              >
              and bundle it yourself</dx-text
            >
          </dx-col>
        </dx-grid>

        <!-- example -->
        <dx-state id="example" src="/api/stoplight.json">
          <dx-col
            id="stoplight"
            align-items="center"
            background-color="rgba(255, 255, 255, 0.1)"
            background-color:hover="rgba(255, 255, 255, 0.05)"
            cursor="pointer"
            border-radius="5px"
            box-sizing="border-box"
            gap="30px"
            justify-content="center"
            padding="50px"
            width="100%"
            text-align="center"
            transition="all 0.2s ease-in-out"
          >
            <dx-text font-size="28px"> Click The Stoplight </dx-text>
            <dx-row gap="20px" pointer-events="none">
              <dx-box
                id="stoplight__red"
                background-color="red"
                border="2px solid rgba(0,0,0,0.75)"
                border-radius="50%"
                height="50px"
                opacity="0.25"
                width="50px"
              ></dx-box>
              <dx-box
                id="stoplight__yellow"
                background-color="yellow"
                border="2px solid rgba(0,0,0,0.75)"
                border-radius="50%"
                height="50px"
                opacity="0.25"
                width="50px"
              ></dx-box>
              <dx-box
                id="stoplight__green"
                background-color="#07e407"
                border="2px solid rgba(0,0,0,0.75)"
                border-radius="50%"
                height="50px"
                opacity="0.25"
                width="50px"
              ></dx-box>
            </dx-row>
          </dx-col>
        </dx-state>

        <!-- how it works -->
        <dx-col text-align="center" gap="20px">
          <dx-col>
            <dx-text color="gold" font-size="32px">How It Works</dx-text>
            <dx-text opacity="0.35" padding="20px 0"
              >domx works by introducing the idea of modeling DOM
              transformations in a simple state machine on the backend. The
              result is a super-powered HTMX-like app that pairs well with web
              components.</dx-text
            ></dx-col
          >
          <dx-box
            align-items="flex-start"
            flex-direction="column"
            flex-direction--960="row"
            justify-content="space-between"
            text-align="center"
            gap="20px"
          >
            <dx-col
              gap="10px"
              justify-content="center"
              height="100%"
              width="100%"
              width--960="50%"
              ><dx-text>Step 1: Define the state machine on the server</dx-text>
              <dx-style border-radius="5px">
                <pre><code class="language-typescript">{
  "$schema": "domx.json",
  "initialState": "red",
  "listeners": [
    ["#stoplight", "click", "changeState"],
  ],
  "actions": {
    "reset": [
      ["attr", "#stoplight__red", "opacity", "0.25"],
      ["attr", "#stoplight__yellow", "opacity", "0.25"],
      ["attr", "#stoplight__green", "opacity", "0.25"]
    ]
  },
  "states": {
    "red": {
      "entry": [
        ["action", "reset"],
        ["attr", "#stoplight__red", "opacity", "1"],
        ["dispatch", "changeState", 2000]
      ],
      "changeState": [["state", "yellow"]]
    },
    "yellow": {
      "entry": [
        ["action", "reset"],
        ["attr", "#stoplight__yellow", "opacity", "1"],
        ["dispatch", "changeState", 2000]
      ],
      "changeState": [["state", "green"]]
    },
    "green": {
      "entry": [
        ["action", "reset"],
        ["attr", "#stoplight__green", "opacity", "1"],
        ["dispatch", "changeState", 2000]
      ],
      "changeState": [["state", "red"]]
    }
  }
}
              </code></pre>
              </dx-style>
            </dx-col>
            <dx-col
              gap="10px"
              justify-content="center"
              height="100%"
              width="100%"
              width--960="50%"
              ><dx-text
                >Step 2: Wrap markup with the
                <code>dx-state</code> component</dx-text
              >
              <dx-style border-radius="5px">
                <pre><code class="language-markup">
&lt;-- Some styles omitted for brevity --&gt;
&lt;dx-state src="/api/stoplight.json"&gt;
  &lt;dx-row&gt;
    &lt;dx-box
      id="stoplight__red"
      background-color="red"
      opacity="0.25"
    &gt;&lt;/dx-box&gt;
    &lt;dx-box
      id="stoplight__yellow"
      background-color="yellow"
      opacity="0.25"
    &gt;&lt;/dx-box&gt;
    &lt;dx-box
      id="stoplight__green"
      background-color="#07e407"
      opacity="0.25"
    &gt;&lt;/dx-box&gt;
  &lt;/dx-row&gt;
&lt;/dx-state&gt;
              </code></pre>
              </dx-style>
            </dx-col>
          </dx-box>

          <dx-col>
            <dx-text opacity="0.35" padding="20px 0"
              >The <code>dx-state</code> component loads the state machine
              config. Each time a new action is triggered, it's transformation
              object is processed. Each item in the transformation object is
              responsible for a specific transformation which is called a
              "trait". Here's a zoom in on some of transformation objects from
              above</dx-text
            >
          </dx-col>

          <pre><code class="language-typescript">
// actions -> reset transformation object
[
  // set the "opacity" attribute to 0.25
  ["attr", "#stoplight__red", "opacity", "0.25"],
  ["attr", "#stoplight__yellow", "opacity", "0.25"],
  ["attr", "#stoplight__green", "opacity", "0.25"]
]
...
// states -> red -> entry state transformation object
[
  // run the "reset" actions transformation object
  ["action", "reset"],
  // set the "opacity" attribute to 1
  ["attr", "#stoplight__red", "opacity", "1"],
  // dispatch the "changeState" action after 2000ms
  ["dispatch", "changeState", 2000]
],
...

</code></pre>
          <dx-text>Here's a table of the traits:</dx-text>
          <dx-row overflow-x="auto">
            <dx-table>
              <thead>
                <dx-tr>
                  <dx-th>Trait</dx-th>
                  <dx-th>Description</dx-th>
                  <dx-th>Example</dx-th>
                </dx-tr>
              </thead>
              <tbody>
                <dx-tr>
                  <dx-td><code>action</code></dx-td>
                  <dx-td>Call an action</dx-td>
                  <dx-td>
                    <pre><code class="language-typescript"
                    >["action", "reset"]</code></pre>
                  </dx-td>
                </dx-tr>
                <dx-tr>
                  <dx-td><code>append</code></dx-td>
                  <dx-td>Append html to element</dx-td>
                  <dx-td>
                    <pre><code class="language-typescript"
                      >["append", "#list", "&lt;li&gt;new item&lt;/li&gt;"]</code
                    ></pre>
                  </dx-td>
                </dx-tr>
                <dx-tr>
                  <dx-td><code>attr</code></dx-td>
                  <dx-td>Set an attribute</dx-td>
                  <dx-td>
                    <pre><code class="language-typescript"
                    >["attr", "dialog", "open", "true"]</code></pre>
                  </dx-td>
                </dx-tr>
                <!-- <dx-tr>
                  <dx-td><code>click</code></dx-td>
                  <dx-td>Attach a click handler to trigger an action</dx-td>
                  <dx-td>
                    <pre><code class="language-typescript"
                    >["click","#btn","reset"]</code></pre>
                  </dx-td>
                </dx-tr> -->
                <dx-tr>
                  <dx-td><code>call</code></dx-td>
                  <dx-td>Call a method on an object</dx-td>
                  <dx-td>
                    <pre><code class="language-typescript"
                      >["call","#custom-drawer-component","toggle"]</code
                    ></pre>
                  </dx-td>
                </dx-tr>
                <dx-tr>
                  <dx-td><code>dispatch</code></dx-td>
                  <dx-td>Dispatch an action</dx-td>
                  <dx-td>
                    <pre><code class="language-typescript"
                    >["dispatch", "reset"]</code></pre>
                  </dx-td>
                </dx-tr>
                <dx-tr>
                  <dx-td><code>js</code></dx-td>
                  <dx-td>Call a method on the window object</dx-td>
                  <dx-td>
                    <pre><code class="language-typescript"
                    >["alert", "Hello World!"]</code></pre>
                  </dx-td>
                </dx-tr>
                <dx-tr>
                  <dx-td><code>get</code></dx-td>
                  <dx-td
                    >Trigger a get request and process the result (a
                    transformation object)</dx-td
                  >
                  <dx-td>
                    <pre><code class="language-typescript"
                    >["get", "/some/endpoint"]</code></pre>
                  </dx-td>
                </dx-tr>
                <dx-tr>
                  <dx-td><code>post</code></dx-td>
                  <dx-td
                    >Post selected data to endpoint and process the result (a
                    transformation object)</dx-td
                  >
                  <dx-td>
                    <pre><code class="language-typescript"
                      >["post", 
  "/some/endpoint", [
  ["form-data","#todoForm","formData"]
]]</code
                    ></pre>
                  </dx-td>
                </dx-tr>
                <dx-tr>
                  <dx-td><code>replace</code></dx-td>
                  <dx-td>Replace an element</dx-td>
                  <dx-td>
                    <pre><code class="language-typescript"
                      >["replace", "#list", "&lt;li&gt;updated item&lt;/li&gt;"]</code
                    ></pre>
                  </dx-td>
                </dx-tr>
                <dx-tr>
                  <dx-td><code>state</code></dx-td>
                  <dx-td>Change current state</dx-td>
                  <dx-td>
                    <pre><code class="language-typescript"
                      >["state", "processing"]</code
                    ></pre>
                  </dx-td>
                </dx-tr>
                <!-- <dx-tr>
                  <dx-td><code>submit</code></dx-td>
                  <dx-td>Attach a submit handler to trigger an action</dx-td>
                  <dx-td>
                    <pre><code class="language-typescript"
                      >["submit", "#form", "submit-form"]</code
                    ></pre>
                  </dx-td>
                </dx-tr> -->
                <dx-tr>
                  <dx-td><code>text</code></dx-td>
                  <dx-td>Update text</dx-td>
                  <dx-td>
                    <pre><code class="language-typescript"
                      >["text", "#msg", "Hello World"]</code
                    ></pre>
                  </dx-td>
                </dx-tr>
                <dx-tr>
                  <dx-td><code>wait</code></dx-td>
                  <dx-td>Add a wait between transformations</dx-td>
                  <dx-td>
                    <pre><code class="language-typescript"
                      >["wait", "2000"]</code
                    ></pre>
                  </dx-td>
                </dx-tr>
              </tbody>
            </dx-table>
          </dx-row>
        </dx-col>

        <!-- demo -->
        <!-- <dx-tabs active="1">
          <dx-tab-btn panel="tab-panel-1" active> Demo </dx-tab-btn>
          <dx-tab-btn panel="tab-panel-2">demo.html</dx-tab-btn>
          <dx-tab-btn panel="tab-panel-3">demo.json</dx-tab-btn>
          <dx-tab-panel id="tab-panel-1" active>
            <dx-col background-color="#222222" padding="20px">
              <dx-state id="todo" src="/static/dx/todo.json">
                <form id="todo__form">
                  <input id="todo__input" autofocus type="text" value="" />
                  <div id="todo__input__error" style="color: red"></div>
                  <button id="todo__btn" type="button">Add</button>
                </form>
                <div id="todo__list">Loading Items</div>
              </dx-state>
            </dx-col>
          </dx-tab-panel>
          <dx-tab-panel id="tab-panel-2">Panel 2</dx-tab-panel>
          <dx-tab-panel id="tab-panel-3">Panel 3</dx-tab-panel>
        </dx-tabs> -->
      </dx-col>
    </dx-col>
  </body>
</html>
