<html lang="en">
  <head>
    <title>domx</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta
      name="description"
      content="domx is a web component library for building web applications."
    />
    <meta name="favicon" content="/static/images/favicon.svg" />
    <link rel="stylesheet" href="static/scripts/prism.css" type="text/css" />
    <link rel="stylesheet" href="/static/styles/styles.css" />
    <script type="text/javascript" src="static/scripts/prism.min.js"></script>
    <script
      type="text/javascript"
      src="static/scripts/prism-markup.min.js"
    ></script>
    <script
      type="text/javascript"
      src="static/scripts/prism-typescript.min.js"
    ></script>
    <script src="/static/scripts/dx-box.js"></script>
    <script src="/static/scripts/dx-grid.js"></script>
    <script src="/static/scripts/dx-state.js"></script>
    <script src="/static/scripts/dx-style.js"></script>
    <script src="/static/scripts/dx-text.js"></script>
  </head>
  <body>
    <dx-box
      align-items="flex-start"
      background="linear-gradient(45deg,rgba(255, 255, 255, 0.1) 50%, gold 50%)"
      display="flex"
      height="75px"
      justify-content="flex-end"
      padding="5px"
      position="absolute"
      right="0px"
      text-align="right"
      top="0px"
      width="75px"
    >
      <a href="https://github.com/linttrapmedia/domx" target="_blank"
        ><img src="static/images/github.svg" width="50%"
      /></a>
    </dx-box>
    <dx-col align-items="normal" align-items--960="center">
      <dx-col gap="50px" padding="50px 20px" max-width="960px">
        <!-- header -->
        <dx-col align-items="center" gap="20px">
          <dx-row align-items="flex-start">
            <dx-text
              font-family="Splash"
              color="gold"
              font-size="50px"
              font-size--960="75px"
              line-height="0.85"
              >domx</dx-text
            ><dx-text
              color="gold"
              font-family="monospace"
              font-size="10px"
              padding-left="10px"
              >beta</dx-text
            >
          </dx-row>
          <dx-text
            color="white"
            text-align="center"
            font-size="32px"
            font-size--960="52px"
          >
            A novel UI library for managing the DOM without javascript
          </dx-text>
        </dx-col>

        <!-- features -->
        <dx-row
          background-color="rgba(255,255,255,0.1)"
          border-radius="5px"
          flex-wrap="wrap"
          gap="10px"
          padding="20px"
          justify-content="center"
        >
          <dx-style
            background-color:hover="white"
            background-color="transparent"
            border-radius="20px"
            border="none"
            border--960="1px solid rgba(255, 255, 255, 0.1)"
            box-sizing="border-box"
            color:hover="black"
            color="white"
            cursor="pointer"
            font-size="13px"
            font-weight="bold"
            gap="10px"
            line-height="1"
            padding="5px 10px"
          >
            <dx-row><span>ðŸš¯</span> No Javascript</dx-row>
            <dx-row><span>ðŸ’«</span> Reactive DOM</dx-row>
            <dx-row><span>ðŸ’…</span> Responsive Styles</dx-row>
            <dx-row><span>ðŸ“¼</span> State Management</dx-row>
            <dx-row><span>ðŸ’©</span> No Virtual DOM</dx-row>
            <dx-row><span>ðŸª¶</span> Flyweight Size</dx-row>
            <dx-row><span>ðŸ“¬</span> HTMX-esque</dx-row>
            <dx-row><span>ðŸ’¨</span> Tailwind-esque</dx-row>
            <dx-row><span>ðŸ¤–</span> XState-esque</dx-row>
          </dx-style>
        </dx-row>

        <!-- why -->
        <dx-grid
          align-items="center"
          grid-template-columns="1fr"
          grid-template-columns--960="1fr 1fr"
          gap="30px"
          justify-content="center"
          text-align="center"
        >
          <dx-col
            border="2px solid rgba(255,255,255,0.3)"
            border-radius="20px"
            padding="20px"
            box-shadow="rgba(255,255,255,0.3) 20px 20px 0px"
            align-items="center"
            justify-content="center"
            height="max-content"
          >
            <dx-text font-size="32px">Why?</dx-text>
            <dx-text opacity="0.35" padding="20px 0"
              >I wanted a library of isolated web components to manage DOM
              states, styles and behaviors from the backend without javascript
              and having HTMX, Tailwind and XState-like features.</dx-text
            >
          </dx-col>
          <dx-col
            justify-self="center"
            padding="20px"
            gap="20px"
            width="max-content"
          >
            <dx-text font-size="32px">Download</dx-text>
            <dx-text opacity="0.5">(It's safe, link is using unpkg)</dx-text>
            <dx-style
              padding="30px"
              background-color:hover="gold"
              background-color="transparent"
              border-radius="5px"
              border-color="gold"
              border="2px solid gold"
              color:hover="black"
              color="gold"
              gap="10px"
              text-decoration="none"
              transition="all 0.2s ease-in-out"
            >
              <a href="https://unpkg.com/@linttrap/domx@latest/dist/domx.zip"
                >ðŸ“¦ &nbsp; download zip</a
              >
            </dx-style>
            <dx-text
              font-size="14px"
              text-align="center"
              gap="10px"
              opacity="0.5"
            >
              Or
              <a href="https://github.com/linttrapmedia/domx" target="_blank"
                >install the repo</a
              >
              and bundle it yourself</dx-text
            >
          </dx-col>
        </dx-grid>

        <!-- example -->
        <dx-state id="stoplight" src="/api/stoplight.json">
          <dx-col
            id="stoplight"
            align-items="center"
            background-color="rgba(255, 255, 255, 0.1)"
            background-color:hover="rgba(255, 255, 255, 0.05)"
            cursor="pointer"
            border-radius="5px"
            box-sizing="border-box"
            gap="30px"
            justify-content="center"
            padding="50px"
            width="100%"
            text-align="center"
            transition="all 0.2s ease-in-out"
          >
            <dx-text font-size="28px"> Click The Stoplight </dx-text>
            <dx-row gap="20px" pointer-events="none">
              <dx-box
                id="stoplight__red"
                background-color="red"
                border="2px solid rgba(0,0,0,0.75)"
                border-radius="50%"
                height="50px"
                opacity="0.25"
                width="50px"
              ></dx-box>
              <dx-box
                id="stoplight__yellow"
                background-color="yellow"
                border="2px solid rgba(0,0,0,0.75)"
                border-radius="50%"
                height="50px"
                opacity="0.25"
                width="50px"
              ></dx-box>
              <dx-box
                id="stoplight__green"
                background-color="#07e407"
                border="2px solid rgba(0,0,0,0.75)"
                border-radius="50%"
                height="50px"
                opacity="0.25"
                width="50px"
              ></dx-box>
            </dx-row>
          </dx-col>
        </dx-state>

        <!-- how it works -->
        <dx-col text-align="center" gap="20px">
          <dx-col>
            <dx-text color="gold" font-size="32px">How It Works</dx-text>
            <dx-text opacity="0.35" padding="20px 0"
              >domx works by introducing the idea of modeling DOM
              transformations in a simple state machine on the backend in a JSON
              configuration object. The state machine is then loaded into the
              <code>dx-state</code> component which handles all the
              transformations based on state and exposes it's API to the DOM.
            </dx-text></dx-col
          >
        </dx-col>

        <!-- how it works: example -->

        <dx-box
          align-items="flex-start"
          flex-direction="column"
          flex-direction--960="row"
          justify-content="space-between"
          text-align="center"
          gap="20px"
        >
          <dx-col
            gap="10px"
            justify-content="center"
            height="100%"
            width="100%"
            width--960="50%"
            ><dx-text>Step 1: Define the state machine on the server</dx-text>
            <dx-style border-radius="5px">
              <pre><code class="language-typescript">{
 "$schema": "domx.json",
 "initialState": "red",
 "listeners": [
   ["#stoplight", "click", "changeState"],
 ],
 "actions": {
   "reset": [
     ["attr", "#stoplight__red", "opacity", "0.25"],
     ["attr", "#stoplight__yellow", "opacity", "0.25"],
     ["attr", "#stoplight__green", "opacity", "0.25"]
   ]
 },
 "states": {
   "red": {
     "entry": [
       ["action", "reset"],
       ["attr", "#stoplight__red", "opacity", "1"],
       ["dispatch", "changeState", 2000]
     ],
     "changeState": [["state", "yellow"]]
   },
   "yellow": {
     "entry": [
       ["action", "reset"],
       ["attr", "#stoplight__yellow", "opacity", "1"],
       ["dispatch", "changeState", 2000]
     ],
     "changeState": [["state", "green"]]
   },
   "green": {
     "entry": [
       ["action", "reset"],
       ["attr", "#stoplight__green", "opacity", "1"],
       ["dispatch", "changeState", 2000]
     ],
     "changeState": [["state", "red"]]
   }
 }
}
             </code></pre>
            </dx-style>
          </dx-col>
          <dx-col
            gap="10px"
            justify-content="center"
            height="100%"
            width="100%"
            width--960="50%"
            ><dx-text
              >Step 2: Wrap markup with the
              <code>dx-state</code> component</dx-text
            >
            <dx-style border-radius="5px">
              <pre><code class="language-markup">
&lt;-- Some styles omitted for brevity --&gt;
&lt;dx-state src="/api/stoplight.json"&gt;
 &lt;dx-row&gt;
   &lt;dx-box
     id="stoplight__red"
     background-color="red"
     opacity="0.25"
   &gt;&lt;/dx-box&gt;
   &lt;dx-box
     id="stoplight__yellow"
     background-color="yellow"
     opacity="0.25"
   &gt;&lt;/dx-box&gt;
   &lt;dx-box
     id="stoplight__green"
     background-color="#07e407"
     opacity="0.25"
   &gt;&lt;/dx-box&gt;
 &lt;/dx-row&gt;
&lt;/dx-state&gt;</code></pre>
            </dx-style>
          </dx-col>
        </dx-box>

        <!-- how it works : state machine -->
        <dx-col gap="20px">
          <dx-text font-size="24px">The State Machine</dx-text>
          <dx-text opacity="0.35"
            >The state machine is an XState inspired JSON configration object
            which takes the following format:</dx-text
          >
          <pre><code class="language-typescript">
{
  // the domx schema
  "$schema": "domx.json",
  // an initial state
  "initialState": "red",
  // list of event listeners to attach
  "listeners": [
    // selector, event, event name
    ["#some-btn",'click','handleClick']
  ],
  // common transformation objects
  "actions": {
    // action name
    "reset": TRANSFORMATION_OBJECT
  },
  // state machine
  "states": {
    // current state
    "red": {
      // automatically run when state is entered
      "entry": TRANSFORMATION_OBJECT,
      // run when the "changeState" event is dispatched
      "changeState": TRANSFORMATION_OBJECT,
      // automatically run when state is exited
      "exit": TRANSFORMATION_OBJECT
    },
    // ...more states
  }
}</code></pre>
        </dx-col>

        <!-- how it works : transformation object -->
        <dx-col gap="20px">
          <dx-text font-size="24px">The Transformation Object</dx-text>
          <dx-text opacity="0.35"
            >When a state machine event is triggered, the [current state] ->
            [event name] transformation object is processed. Each item in the
            transformation object is responsible for a specific transformation
            which is called a "trait". Here are examples of all the
            traits:</dx-text
          >
          <pre><code class="language-typescript">
[
  // Name: Action
  // Desc: Trigger an action
  // Type: [dx: "action", action: string];
  ["action", "reset"],

  // Name: Append
  // Desc: Append to element
  // Type: [dx: "append", selector: string, html: string];
  ["append", "#list", "&lt;li&gt;new item&lt;/li&gt;"],

  // Name: Attr
  // Desc: Set an attribute
  // Type: [dx: "attr", selector: string, attr: string, value: string];
  ["attr", "#dialog", "open", "true"],

  // Name: Call
  // Desc: Call a method on an object
  // Type: [dx: "call", selector: string, method: string, ...args: any[]];
  ["call", "#custom-drawer-component", "toggle"],

  // Name: Click
  // Desc: Attach a click handler to trigger an action
  // Type: [dx: "click", selector: string, action: string];
  ["click", "#btn", "reset"],

  // Name: Dispatch
  // Desc: Dispatch an action
  // Type: [dx: "dispatch", action: string, delay?: number];
  ["dispatch", "reset", 2000],

  // Name: Get
  // Desc: Trigger a get request and process the result (a transformation object)
  // Type: [dx: "get", url: string, ...args: any[]];
  ["get", "/some/endpoint"],

  // Name: Post
  // Desc: Post selected data to endpoint and process the result (a transformation object)
  // Type: [dx: "post", url: string, ...data: [key: string, selector: string, val: "value" | "dataset" | "formData"][]];
  ["post", "/some/endpoint", [
    ["form-data", "#todoForm", "formData"]
  ]],

  // Name: Replace
  // Desc: Replace an element
  // Type: [dx: "replace", selector: string, html: string];
  ["replace", "#list", "&lt;li&gt;updated item&lt;/li&gt;"],

  // Name: State
  // Desc: Change current state
  // Type: [dx: "state", state: string];
  ["state", "processing"],

  // Name: Text
  // Desc: Update text
  // Type: [dx: "text", selector: string, text: string];
  ["text", "#msg", "Hello World"],

  // Name: Wait
  // Desc: Add a wait between transformations
  // Type: [dx: "wait", ms: number];
  ["wait", 2000],

  // Name: Win
  // Desc: Call a method on the window object
  // Type: [dx: "win", method: string, ...args: any[]];
  ["win", "alert", "Hello World!"],
]</code></pre>
        </dx-col>

        <!-- Web Components -->
        <dx-col text-align="center" gap="20px">
          <dx-col>
            <dx-text color="gold" font-size="32px">Web Components</dx-text>
            <dx-text opacity="0.35" padding="20px 0"
              >domx seeks to make <i>your</i> web components the core building
              blocks of <i>your</i> application by offering a clean way to
              manage them. The <code>dx-state</code> component is the only domx
              component you need to get started. However, domx offers a handful
              of simple stand-alone utility components that assist with commont
              needs like responsive layouts, tables, grids, tabs, text, etc.
            </dx-text></dx-col
          >
        </dx-col>

        <dx-col gap="20px">
          <dx-text font-size="24px">dx-state</dx-text>
          <dx-text opacity="0.35"
            >The state machine component is the core of domx. It makes a fetch
            to it's `src` onload and processes the state machine and exposes
            it's API to the DOM.
          </dx-text>
          <pre><code class="language-markup">&lt;!-- 
  Attributes:
  - [src]=[/path/to/state.json]
--&gt;

&lt;dx-state id="todo-state" src="/todo-machine.json"&gt;
  &lt;!-- DOM scope --&gt;
&lt;/dx-state&gt;</code></pre>
          <dx-text opacity="0.35"
            >Checkout the state machine api for the stoplight machine. Run the
            following in your development console:
          </dx-text>
          <pre><code class="language-typescript">const stoplight = document.getElementById('stoplight');
console.log(Object.keys(stoplight));
</code></pre>
          <dx-text opacity="0.35"
            >Even though event binding is taken care of by the state machine and
            complex functionality is to be delegated to web components it's
            still good to have the ability to use the state machine's API
            directly when you need to:
          </dx-text>
          <pre><code class="language-typescript">// get a reference to the state machine
const stoplight = document.getElementById('stoplight');

// dispatch an event
stoplight.dispatch("changeState"); // try this above alongside the stoplight example

// subscribe to state changeState
stoplight.sub((state: string, action: string, dx: DX) => { ... })

// run an ad-hoc transformation
// try this in the console
stoplight.transform(
  "name-of-your-adhoc-event",
  [
    ["attr", "#stoplight__red", "background-color", "blue"],
    ["win", "alert", "You changed the red stoplight to blue!"],
    ["call", "#stoplight","scrollIntoView"]
  ]
)

// get current state
console.log(stoplight.state)

// get the state machine config
console.log(stoplight.config)</code></pre>
        </dx-col>

        <dx-col gap="20px">
          <dx-text font-size="24px">dx-text</dx-text>
          <dx-text opacity="0.35"
            >The text component makes it easy to do ad-hoc styling and
            responsive behaviors.</dx-text
          >
          <pre><code class="language-markup">&lt;!-- 
  Attributes:
  - [prop]=[value]
  - [css-prop]:[psuedo-el]--[breakpoint]="[css-value]"
--&gt;

&lt;!-- Basic flexbox --&gt;
&lt;dx-text&gt;Hello World&lt;/dx-text&gt;

&lt;!-- font size of 21px with white text that turns red on hover --&gt;
&lt;dx-text font-size="21px" color="white" color:hover="red"&gt;Hello World&lt;/dx-text&gt;</code></pre>
        </dx-col>

        <dx-col gap="20px">
          <dx-text font-size="24px">dx-box, dx-row, dx-col</dx-text>
          <dx-text opacity="0.35"
            >The flexbox components make doing responsive styling and layout a
            snap.</dx-text
          >
          <pre><code class="language-markup">&lt;!-- 
  Attributes:
  - [prop]=[value]
  - [css-prop]:[psuedo-el]--[breakpoint]="[css-value]"
--&gt;

&lt;!-- Basic flexbox --&gt;
&lt;dx-box&gt;Hello World&lt;/dx-box&gt;

&lt;!-- 10px padding with white text that turns red on hover --&gt;
&lt;dx-box padding="10px" color="white" color:hover="red"&gt;Hello World&lt;/dx-box&gt;

&lt;!-- column on mobile, row at 960px --&gt;
&lt;dx-box flex-direction="column" flex-direction--960="row"&gt;Hello World&lt;/dx-box&gt;

&lt;!-- Same as dx-box but flex-direction is preset to column --&gt;
&lt;dx-col&gt;Hello World&lt;/dx-col&gt;

&lt;!-- Same as dx-box but flex-direction is preset to row --&gt;
&lt;dx-row&gt;Hello World&lt;/dx-row&gt;</code></pre>
        </dx-col>

        <dx-col gap="20px">
          <dx-text font-size="24px">dx-grid</dx-text>
          <dx-text opacity="0.35"
            >The grid component makes doing responsive styling and layout a
            snap.</dx-text
          >
          <pre><code class="language-markup">&lt;!-- 
  Attributes:
  - [prop]=[value]
  - [css-prop]:[psuedo-el]--[breakpoint]="[css-value]"
--&gt;

&lt;!-- 1 column on mobile, 2 columns at 960px --&gt;
&lt;dx-grid
  grid-template-columns="1fr"
  grid-template-columns--960="1fr 1fr"
  gap="30px"&gt;
  &lt;div&gt;Cell One&lt;/div&gt;
  &lt;div&gt;Cell Two&lt;/div&gt;
&lt;/dx-grid&gt;</code></pre>
        </dx-col>

        <dx-col gap="20px">
          <dx-text font-size="24px">dx-style</dx-text>
          <dx-text opacity="0.35"
            >The style component allows you to use domx's component inline style
            syntax to add style and responsive properties to any
            element.</dx-text
          >
          <pre><code class="language-markup">
&lt;!-- 
  Attributes:
  - [css-prop]:[psuedo-el]--[breakpoint]="[css-value]"
--&gt;

&lt;!-- Font size 32px, 64px at 960px, white in color and red on hover --&gt;
&lt;dx-style
  font-size="32px"
  font-size--960="64px"
  color="white"
  color:hover="red"&gt;
  &lt;style&gt;Some Text&lt;/style&gt;
&lt;/dx-style&gt;

&lt;!-- It also works on all immediate children --&gt;
&lt;ul&gt;
  &lt;dx-style font-size="32px"&gt;
    &lt;li&gt;All these children will be 32px&lt;/li&gt;
    &lt;li&gt;All these children will be 32px&lt;/li&gt;
    &lt;li&gt;All these children will be 32px&lt;/li&gt;
    &lt;li&gt;All these children will be 32px&lt;/li&gt;
  &lt;/dx-style&gt;
&lt;/ul&gt;</code></pre>
        </dx-col>

        <dx-col gap="20px">
          <dx-text font-size="24px">Coming Soon</dx-text>
          <dx-text opacity="0.35"
            >I have a handful of other components an features on deck including:
            state maching debugger (graph and output), responsive image, table,
            tabs, drawer, dialog and alert components as well as built-in
            conditional state rendering to reduce the amount of normative
            transformation syntax needed.</dx-text
          >
        </dx-col>

        <!-- Footer -->
        <dx-col text-align="center" gap="20px">
          <dx-col>
            <dx-text color="gold" font-size="32px">domx</dx-text>
            <dx-text opacity="0.35" padding="20px 0"
              >Â©Copyright 2024 All rights reserved. Made in the USA ðŸ‡ºðŸ‡¸ by
              <a href="https://kevinlint.com" target="_blank">Kevin Lint</a> as
              a product of
              <a href="https://linttrap.media" target="_blank"
                >Lint Trap Media</a
              >.
            </dx-text></dx-col
          >
        </dx-col>

        <!-- demo -->
        <!-- <dx-tabs active="1">
          <dx-tab-btn panel="tab-panel-1" active> Demo </dx-tab-btn>
          <dx-tab-btn panel="tab-panel-2">demo.html</dx-tab-btn>
          <dx-tab-btn panel="tab-panel-3">demo.json</dx-tab-btn>
          <dx-tab-panel id="tab-panel-1" active>
            <dx-col background-color="#222222" padding="20px">
              <dx-state id="todo" src="/static/dx/todo.json">
                <form id="todo__form">
                  <input id="todo__input" autofocus type="text" value="" />
                  <div id="todo__input__error" style="color: red"></div>
                  <button id="todo__btn" type="button">Add</button>
                </form>
                <div id="todo__list">Loading Items</div>
              </dx-state>
            </dx-col>
          </dx-tab-panel>
          <dx-tab-panel id="tab-panel-2">Panel 2</dx-tab-panel>
          <dx-tab-panel id="tab-panel-3">Panel 3</dx-tab-panel>
        </dx-tabs> -->
      </dx-col>
    </dx-col>
  </body>
</html>
